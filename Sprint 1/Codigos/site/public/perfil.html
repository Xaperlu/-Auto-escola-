<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="./css/perfil.css">
  <link rel="shortcut icon" href="./asset/favicon-32x32.png" type="image/x-icon">
  <title>AutoTech | Perfil</title>
</head>

<body>

  <div class="navbar">

    <div class="blocoperfil">
      <h1>AutoTech</h1>
      <img src="asset/user.png" alt="">
      <h2>Olá, <strong id="userLogado">undefined</strong>!</h2>

    </div>

    <ul class="guias">
      <li class="titleopcionais"><p>Acessar</p></li>
      <li><a href="dashboard.html"> Dashboard</a></li>

      <li id="adicional" class="titleopcionais"><p>Adicionar</p></li>
      
      <li id="addunidades" class="add"  ><p>+ Unidade</p></li>
      <li id="addhardware" class="add"  ><p>+ Hardware</p></li>
      <li id="addfuncionario" class="add" ><p>+ Funcionario</p></li>

      <li id="sair"><a href="index.html"><ion-icon name="exit-outline"></ion-icon></a> </li>

    </ul>

  </div>

  

  <div class="janelainfo">

    


    <div class="card">
      <div class="detalheboll">

        <div id="boll2After"></div style>
        <div id="boll1"></div>
        <div id="boll2"></div>
        <div id="boll1After"></div>


      </div>



      <div class="cardfilho">

        <div class="areadasinfos">

          <div class="infos">

            <h3>undefined</h3>

            <div class="listadecampos">

              <div class="campo">
                <div class="noeditsinfo" id="noeditsinfo1">
                  <P class="title">Nome:</P>
                  <p id="nomeUsuario">undefined</p>
                </div>

                <div class="editarinfo" id="editarinfo1">
                  <label class="title" for="">Nome:</label>
                  <input type="text" name="" id="Nome">
                </div>

              </div>

              <div class="campo">
                <div class="noeditsinfo" id="noeditsinfo3">
                  <P class="title">CNPJ:</P>
                  <p id="cnpjUsuario">undefined</p>
                </div>

                <div class="editarinfo" id="editarinfo3">
                  <label class="title" for="">CNPJ:</label>
                  <input type="title" name="" id="CNPJ" maxlength="18" onkeyup="MascaraCnpj()">
                </div>
              </div>

              <div class="campo">
                <div class="noeditsinfo" id="noeditsinfo2">
                  <P class="title">Email:</P>
                  <p id="emailUsuario">undefined</p>
                </div>

                <div class="editarinfo" id="editarinfo2">
                  <label class="title" for="">Email:</label>
                  <input type="text" name="" id="Email">
                </div>
              </div>

              <div class="campo">
                <div class="noeditsinfo" id="noeditsinfo4">
                  <P class="title">Senha:</P>
                  <p>undefined</p>
                </div>

                <div class="editarinfo" id="editarinfo4">
                  <label class="title" for="">Senha</label>
                  <input type="password" name="" id="Senha">
                </div>
              </div>

            </div>


          </div>
          <img src="asset/user.png" alt="">

          

        </div>

        

        

        <div class="campobotoes">
          <button id="btn" onclick="editar()">Editar <ion-icon name="create-outline"></ion-icon> </button>

          <div>
            <img src="asset/arrow-forward-outline.svg" alt="">
            <button id="btnsalvarupdate" onclick="salvar()">Salvar</button>
          </div>

        </div>

        

      </div>

      <div class="confsenha">

        <div class="divdeconfsenha">
          <p>Confirmar senha</p>
          <div class="divinput">
            <input id="senhaconfirmacaoupdate" type="password"  placeholder="********">
            <ion-icon id="onsenha" onclick="onsenha()" name="eye-outline"></ion-icon>
            <ion-icon id="offsenha" onclick="offsenha()" name="eye-off-outline"></ion-icon>
          </div>
          
          <button onclick="update()">Confirmar</button>
        </div>

      </div>



      <div id="janelacadastrounidade" class="outroscadastros">
        <ion-icon id="fecharjanelaunidade" class="botaoexit" name="add-outline"></ion-icon>

        <DIV class="containerdentrocadastrarunidade">
          <h1 id="agaumm">Cadastrar unidade</h1>

          <div class="dadoscadastrounidade">
            <input id="" class="inpcadastrarunidade" type="text" placeholder="Nome da unidade">   
            <input id="" class="inpcadastrarunidade" type="number" placeholder="Telefone">  
            <input id="" class="inpcadastrarunidade" type="number" placeholder="Cep">  
            <input id="" class="inpcadastrarunidade" type="text" placeholder="Logradouro">  
            <input id="" class="inpcadastrarunidade" type="text" placeholder="Bairro">  
            <input id="" class="inpcadastrarunidade" type="number" placeholder="Numero">  
            <button id="btncriarunidade" onclick="cadastrarunidade()">Criar</button>


            <ul id="listadeunidadeparaupdate">

            </ul>

            <button id="btnupdateunidade" onclick="">Update</button>
          </div>



          <button class="editarunidhard" onclick="abrirteladeescolhaunidade()">Editar <ion-icon name="create-outline"></ion-icon> </button>

        </DIV>

        


      </div>

      <div id="janelacadastrohardware" class="outroscadastros">
        <ion-icon id="fecharjanelahardware" class="botaoexit" name="add-outline"></ion-icon>

        <DIV class="containerdentrocadastrarunidade">
          <h1 id="agaum">Cadastrar hardware</h1>

          <div class="dadoscadastrounidade">
            <input id="nserie" class="inpcadastrarunidade" type="text" placeholder="Numero de série">   
            <input id="" class="inpcadastrarunidade" type="text" placeholder="Processador">  

            <select name="" id="">
              <option value="">HD</option>
              <option value="">SSD</option>
            </select> 

            <input id="" class="inpcadastrarunidade" type="number" placeholder="Quantidade de armazenamento">  
            <input id="" class="inpcadastrarunidade" type="text" placeholder="Quantidade de memoria ram">  
            
            <select name="" id="selHardware">
              <option value="">--Selecione a Unidade--</option>
            </select> 

            <button id="btncriarhardware" onclick="cadastrarhardware()">Criar</button>




            <ul id="listadehaerwareparaupdate">

            </ul>

            <button id="btnupdatehardware" onclick="updatehardware()">Update</button>
          </div>



          <button class="editarunidhard" onclick="abrirteladeescolhahardware()">Editar <ion-icon name="create-outline"></ion-icon> </button>


        </DIV>

      </div>



      <div id="janelacadastrofuncionario" class="outroscadastros">
        <ion-icon id="fecharjanelafuncionario" class="botaoexit" name="add-outline"></ion-icon>

        <DIV class="containerdentrocadastrarunidade">
          <h1 id="agaummm">Cadastrar funcionario</h1>

          <div class="dadoscadastrounidade">
            <input id="" class="inpcadastrarunidade" type="text" placeholder="nome">   
            <input id="" class="inpcadastrarunidade" type="text" placeholder="cargo">  
            <input id="" class="inpcadastrarunidade" type="number" placeholder="data de nascimento">  
            <input id="" class="inpcadastrarunidade" type="number" placeholder="celular">  

            <select name="" id="selUnidade">
              <option value="">--Selecione a Unidade--</option>
            </select> 

            <button id="btncriarfuncionario" onclick="cadastrarfuncionario()">Criar</button>




            <ul id="listadeunidadedefuncionarioparaupdate">

            </ul>

            <button id="btnupdatefuncionario" onclick="updatefuncionario()">Update</button>
          </div>



          <button class="editarunidhard" onclick="abrirteladeescolhadeunidadefuncionario()">Editar <ion-icon name="create-outline"></ion-icon> </button>


        </DIV>

      </div>



    </div>


  </div>





</body>



</html>

<script>

function pegarInfoBanco(){
    let hardware = document.querySelector('#selHardware')
    let unidade = document.querySelector('#selUnidade')
    let id = sessionStorage.getItem('ID_USUARIO')

    fetch(`/usuarios/pegarInfoBanco/${id}`).then(function (resposta){
        if(resposta.ok){
            resposta.json().then(function(response){
                var info = JSON.parse((JSON.stringify(response)))

                console.log(info[0].nomeUnidade)

                for(let i = 0; i < response.length; i++){
                    hardware.innerHTML += `<option value = ${info[i].idUnidade}>${info[i].nomeUnidade}</option>`
                    unidade.innerHTML += `<option value = ${info[i].idUnidade}>${info[i].nomeUnidade}</option>`
                }

            })
        }
    })
}


window.onload = function(){
    pegarInfoBanco();
}

</script>

<script src="./js/perfil.js"></script>

<script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
<script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>


